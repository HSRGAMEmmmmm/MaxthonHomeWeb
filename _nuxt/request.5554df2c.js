class i{static async fetchRequest(t,e){const s=await fetch(t,e);if(!s.ok)try{const n=await s.json();return{code:n.statusCode,msg:n.message}}catch{return{code:200,msg:"request error"}}return s.json()}static async fetchJson(t,e){return await this.fetchRequest(t,{method:e?"post":"get",headers:{"Content-Type":"application/json"},body:e?JSON.stringify(e):void 0})}static async fetchFormWithCookie(t,e){const s=new URLSearchParams;for(const o in e)s.append(o,e[o]);const n={method:e?"post":"get",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e?s:void 0};return typeof process<"u",n.credentials="include",await this.fetchRequest(t,n)}static async fetchFileWithCookie(t,e){return await this.fetchRequest(t,{method:"post",credentials:"include",body:e})}}export{i as m};
