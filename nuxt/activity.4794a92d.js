import{_ as h}from"./mx-btn.d7ca5fda.js";import{_ as $}from"./mx-dialog.047d8f01.js";import{_ as D}from"./layout.0bc348b9.js";import{a as C,o as a,c as v,w as c,b as s,e as l,r as g,t as i,F as f,f as k,h as y,i as u}from"./entry.ce67fe4b.js";import{a as x}from"./api-asset.f95e858a.js";import{c as P}from"./index.980b4d70.js";import{_ as A}from"./_plugin-vue_export-helper.c27b6911.js";import"./request.5554df2c.js";const V={setup(){const{locale:t}=C();return{locale:t}},data(){return{activityData:void 0,actionBtnDisabled:!1,dialogVisible:!1}},created(){this.initData()},methods:{initData(){this.activityData=[{key:"Gold",list:[{key:"Newtab",alt:"pc checkin",count:480,action:this.openHelpPage},{key:"Mobile",alt:"mobile checkin",count:220,action:this.openDownlaodPage},{key:"Msg",alt:"maxthon message",action:this.openHelpPage},{key:"Bright",alt:"bright data",count:100,action:this.openSettingsPage}]},{key:"Buy",list:[{key:"Pack",alt:"gold pack",count:3e3,limit:!0,action:()=>this.openBuyPage(3e3)}]}]},getGoldCount(t){return this.$t(`assetActivity${t.key}Desc`).replace("[count]",`<span class="asset-activity-desc-num">${t.count}</span>`)},handleClickActionBtn(t){t.action()},openHelpPage(){const t=this.locale==="zh"?"zh/":"";window.open(`https://docs.maxthon.com/#/${t}goldactivity`)},openDownlaodPage(){this.dialogVisible=!1,window.open("https://www.maxthon.com/download/")},openSettingsPage(){if(typeof maxthon>"u")this.dialogVisible=!0;else{const t=maxthon.browserInfo(),o=JSON.parse(t).version;P(o,"7.1.6.2000")>0?maxthon.send(()=>{},{event:"open_url",model:"web",urls:["chrome://settings/feature"],open_type:"foreground_tab"}):this.dialogVisible=!0}},async openBuyPage(t){this.actionBtnDisabled=!0;const o={lang:this.locale,product:"gold",amount:t,price:t/10},{code:d,url:_,msg:n}=await x.createPayment(o);this.actionBtnDisabled=!1,d===0?window.open(_):this.$toast.error(n)}}},N={class:"asset-activity-container"},L={class:"asset-activity-title"},H=["src","alt"],M={class:"asset-activity-content"},T={class:"asset-activity-row"},G={class:"asset-activity-text"},S={key:0,class:"asset-activity-tag"},z=["innerHTML"];function F(t,o,d,_,n,p){const b=h,m=h,w=$,B=D;return a(),v(B,{name:"asset",title:"assetActivity"},{default:c(()=>[s("div",N,[(a(!0),l(f,null,g(n.activityData,r=>(a(),l("div",{key:r.key,class:"asset-activity-group"},[s("div",L,i(t.$t(`assetActivityGroup${r.key}`)),1),(a(!0),l(f,null,g(r.list,e=>(a(),l("div",{key:e.key,class:"asset-activity-item"},[s("img",{class:"asset-activity-img",src:`/pic/activity/${e.key.toLowerCase()}.svg`,alt:e.alt},null,8,H),s("div",M,[s("div",T,[s("span",G,i(t.$t(`assetActivity${e.key}Title`)),1),e.limit?(a(),l("span",S,i(t.$t("assetActivityLimit")),1)):k("",!0)]),s("div",{class:"asset-activity-desc",innerHTML:p.getGoldCount(e)},null,8,z)]),y(b,{type:"none",class:"asset-activity-btn",disabled:n.actionBtnDisabled,onClick:I=>p.handleClickActionBtn(e)},{default:c(()=>[u(i(t.$t(`assetActivity${e.key}Btn`)),1)]),_:2},1032,["disabled","onClick"])]))),128))]))),128))]),n.dialogVisible?(a(),v(w,{key:0,title:"alertTitle"},{footer:c(()=>[y(m,{onClick:o[0]||(o[0]=r=>n.dialogVisible=!1)},{default:c(()=>[u(i(t.$t("btnCancel")),1)]),_:1}),y(m,{type:"primary",onClick:p.openDownlaodPage},{default:c(()=>[u(i(t.$t("downloadNow")),1)]),_:1},8,["onClick"])]),default:c(()=>[s("div",null,i(t.$t("assetActivityBrightAlertDesc")),1)]),_:1})):k("",!0)]),_:1})}const U=A(V,[["render",F]]);export{U as default};
